import FooterComponent from "@/components/common/footer.component";
import SubmissionView from "./_components/submission-view";
import { getMySubmissionDetails, getMySubmissionImages } from "./actions";
import { ProductItem } from "@/types";
import { redirect } from "next/navigation";

export const revalidate = 0;

const ProductDetails = async ({ params }: { params: { sku: string } }) => {
  const { sku } = params;
  if (!sku) {
    redirect("/");
  }
  const details: ProductItem = await getMySubmissionDetails(sku);
  const images = await getMySubmissionImages(sku)
  if (!details) {
    return (
      <div className="flex-1 flex flex-col items-center justify-center overflow-hidden">
        <div className="flex items-center gap-4 overflow-hidden">
          <svg width="93" height="92" viewBox="0 0 93 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="92" height="92" rx="8" fill="#C6ABFF" />
            <path d="M46.499 69.4472C33.673 69.4472 23.2754 59.0497 23.2754 46.2236C23.2754 33.3976 33.673 23 46.499 23C59.3251 23 69.7227 33.3976 69.7227 46.2236C69.7227 59.0497 59.3251 69.4472 46.499 69.4472Z" fill="#252422" stroke="#252422" stroke-width="2.6665" stroke-miterlimit="10" />
            <path d="M46.4986 54.187C42.1011 54.187 38.5362 50.6221 38.5362 46.2246C38.5362 41.8271 42.1011 38.2622 46.4986 38.2622C50.8961 38.2622 54.4609 41.8271 54.4609 46.2246C54.4609 50.6221 50.8961 54.187 46.4986 54.187Z" stroke="#C6ABFF" stroke-width="6.63532" stroke-miterlimit="10" />
          </svg>
          <svg width="93" height="92" viewBox="0 0 93 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="92" height="92" rx="8" fill="#A8F38D" />
            <path d="M27.3449 57.8186C26.1673 57.8186 25.2559 57.5726 24.6106 57.0806C23.9734 56.5805 23.6387 55.8707 23.6064 54.9512H25.3244C25.3889 55.4755 25.5745 55.8505 25.881 56.0764C26.1875 56.2941 26.6513 56.403 27.2723 56.403C27.4982 56.403 27.7119 56.3829 27.9136 56.3425C28.1152 56.3022 28.2927 56.2377 28.4459 56.1489C28.5992 56.0602 28.7201 55.9473 28.8089 55.8102C28.9057 55.665 28.9541 55.4916 28.9541 55.2899C28.9541 55.0802 28.9016 54.9068 28.7968 54.7697C28.7 54.6326 28.5588 54.5196 28.3733 54.4309C28.1878 54.3341 27.962 54.2535 27.6958 54.1889C27.4377 54.1164 27.1433 54.0438 26.8126 53.9712C26.4254 53.8824 26.0503 53.7857 25.6874 53.6808C25.3325 53.5679 25.0179 53.4187 24.7437 53.2331C24.4775 53.0476 24.2597 52.8097 24.0903 52.5193C23.929 52.2289 23.8484 51.8579 23.8484 51.4062C23.8484 50.9787 23.929 50.6037 24.0903 50.281C24.2597 49.9584 24.4896 49.6882 24.78 49.4704C25.0784 49.2527 25.4293 49.0913 25.8326 48.9865C26.2359 48.8736 26.6795 48.8171 27.1634 48.8171C28.1394 48.8171 28.9218 49.047 29.5106 49.5067C30.1075 49.9665 30.4382 50.6359 30.5027 51.5151H28.821C28.7726 51.0796 28.5951 50.7529 28.2886 50.5351C27.9821 50.3173 27.603 50.2085 27.1513 50.2085C26.6755 50.2085 26.2964 50.3012 26.0141 50.4867C25.7317 50.6722 25.5906 50.9182 25.5906 51.2248C25.5906 51.4022 25.6269 51.5514 25.6995 51.6724C25.7801 51.7853 25.8971 51.8861 26.0503 51.9749C26.2117 52.0636 26.4093 52.1402 26.6432 52.2048C26.8771 52.2693 27.1554 52.3378 27.478 52.4104C27.9216 52.5072 28.337 52.6161 28.7242 52.7371C29.1194 52.85 29.4622 53.0033 29.7526 53.1968C30.051 53.3904 30.2849 53.6364 30.4543 53.9349C30.6237 54.2333 30.7084 54.6164 30.7084 55.0843C30.7084 55.5198 30.6237 55.911 30.4543 56.2578C30.2849 56.5966 30.051 56.8829 29.7526 57.1169C29.4541 57.3427 29.0992 57.5161 28.6879 57.6371C28.2765 57.7581 27.8289 57.8186 27.3449 57.8186ZM31.9981 48.9744H38.3621V50.4504H33.7524V52.3862H37.7934V53.826H33.7524V56.161H38.3984V57.625H31.9981V48.9744ZM42.1735 48.9744H43.9883L47.0372 57.625H45.2103L44.6295 55.786H41.508L40.9394 57.625H39.1609L42.1735 48.9744ZM41.9194 54.443H44.2061L43.4317 51.9507C43.3914 51.8378 43.3511 51.7047 43.3108 51.5514C43.2785 51.3982 43.2422 51.253 43.2019 51.1159C43.1615 50.9545 43.1212 50.7892 43.0809 50.6198H43.0567C43.0083 50.7892 42.9639 50.9545 42.9236 51.1159C42.8833 51.253 42.8429 51.3982 42.8026 51.5514C42.7703 51.7047 42.734 51.8378 42.6937 51.9507L41.9194 54.443ZM48.0073 48.9744H49.7616V56.161H53.8268V57.625H48.0073V48.9744ZM55.0075 48.9744H61.3715V50.4504H56.7618V52.3862H60.8028V53.826H56.7618V56.161H61.4078V57.625H55.0075V48.9744ZM62.7403 48.9744H66.1159C66.6966 48.9744 67.2209 49.0873 67.6887 49.3131C68.1566 49.5309 68.5558 49.8374 68.8865 50.2327C69.2172 50.6198 69.4713 51.0836 69.6487 51.624C69.8262 52.1644 69.9149 52.7532 69.9149 53.3904C69.9149 54.1002 69.798 54.7495 69.564 55.3383C69.3382 55.9191 68.9954 56.403 68.5357 56.7902C68.213 57.0564 67.842 57.262 67.4226 57.4072C67.0031 57.5524 66.5192 57.625 65.9707 57.625H62.7403V48.9744ZM65.8497 56.1127C66.6724 56.1127 67.2572 55.8747 67.604 55.3988C67.9589 54.9229 68.1364 54.2535 68.1364 53.3904C68.1364 52.9629 68.088 52.5717 67.9912 52.2168C67.9025 51.8539 67.7613 51.5434 67.5678 51.2852C67.3822 51.0271 67.1483 50.8295 66.866 50.6924C66.5918 50.5472 66.2691 50.4746 65.8981 50.4746H64.4947V56.1127H65.8497Z" fill="#252422" />
            <rect x="18.9453" y="19.7988" width="55.1099" height="52.9288" rx="3.44086" stroke="#252422" stroke-width="1.59754" />
            <path d="M18.9453 23.2396C18.9453 21.3393 20.4858 19.7988 22.3861 19.7988H70.6143C72.5146 19.7988 74.0551 21.3393 74.0551 23.2396V32.9945H18.9453V23.2396Z" fill="#252422" stroke="#252422" stroke-width="1.59754" />
          </svg>
          <svg width="93" height="92" viewBox="0 0 93 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="92" height="92" rx="8" fill="#202020" />
            <path d="M46.5006 66.8639C35.246 66.8639 26.1224 57.7403 26.1224 46.4857C26.1224 35.2311 35.246 26.1074 46.5006 26.1074C57.7552 26.1074 66.8789 35.2311 66.8789 46.4857C66.8789 57.7403 57.7552 66.8639 46.5006 66.8639Z" fill="#F8F7F3" stroke="#F8F7F3" stroke-width="2.3398" stroke-miterlimit="10" />
            <path d="M46.5006 66.8639C35.246 66.8639 26.1224 57.7403 26.1224 46.4857C26.1224 35.2311 35.246 26.1074 46.5006 26.1074C57.7552 26.1074 66.8789 35.2311 66.8789 46.4857C66.8789 57.7403 57.7552 66.8639 46.5006 66.8639Z" fill="#F8F7F3" stroke="#F8F7F3" stroke-width="2.3398" stroke-miterlimit="10" />
            <path d="M46.4995 53.4727C42.6408 53.4727 39.5127 50.3446 39.5127 46.4859C39.5127 42.6271 42.6408 39.499 46.4995 39.499C50.3582 39.499 53.4863 42.6271 53.4863 46.4859C53.4863 50.3446 50.3582 53.4727 46.4995 53.4727Z" stroke="#100F0F" stroke-width="5.82236" stroke-miterlimit="10" />
            <line y1="-1.16447" x2="14.8213" y2="-1.16447" transform="matrix(-0.707107 0.707107 0.707107 0.707107 63.3848 30.7661)" stroke="#100F0F" stroke-width="2.32894" />
            <rect width="44.9727" height="44.9727" rx="5.74231" transform="matrix(-1 0 0 1 68.9863 24)" stroke="#F8F7F3" stroke-width="2.8239" stroke-miterlimit="10" />
          </svg>
          <svg width="93" height="92" viewBox="0 0 93 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="92" height="92" rx="8" fill="#FF6262" />
            <path d="M46.5003 64.3091C68.5574 64.3091 86.4382 56.181 86.4382 46.1546C86.4382 36.1281 68.5574 28 46.5003 28C24.4433 28 6.5625 36.1281 6.5625 46.1546C6.5625 56.181 24.4433 64.3091 46.5003 64.3091Z" stroke="#252422" stroke-width="2.08493" stroke-miterlimit="10" />
            <path d="M46.5 28.0361V64.3145" stroke="#252422" stroke-width="2.08493" stroke-miterlimit="10" />
            <path d="M46.5017 64.7435C63.2654 64.7435 76.855 56.5182 76.855 46.3717C76.855 36.2253 63.2654 28 46.5017 28C29.7381 28 16.1484 36.2253 16.1484 46.3717C16.1484 56.5182 29.7381 64.7435 46.5017 64.7435Z" stroke="#252422" stroke-width="2.08493" stroke-miterlimit="10" />
            <path d="M6.63086 46.1514H86.4388" stroke="#252422" stroke-width="2.08493" stroke-miterlimit="10" />
            <path d="M46.506 64.3091C57.5346 64.3091 66.4749 56.181 66.4749 46.1546C66.4749 36.1281 57.5346 28 46.506 28C35.4775 28 26.5371 36.1281 26.5371 46.1546C26.5371 56.181 35.4775 64.3091 46.506 64.3091Z" fill="#FF6262" stroke="#252422" stroke-width="2.08493" stroke-miterlimit="10" />
            <path d="M38.2876 41.9636H33.4118V39.1325C34.0619 39.1116 34.6911 39.0277 35.2992 38.8809C35.9074 38.7341 36.4527 38.5139 36.935 38.2203C37.4383 37.9267 37.8577 37.5387 38.1933 37.0564C38.5288 36.574 38.749 35.9869 38.8539 35.2948H42.5972V57H38.2876V41.9636Z" fill="#252422" />
            <path d="M48.74 51.2013C47.5152 51.2013 46.5673 50.9455 45.8963 50.4338C45.2336 49.9137 44.8855 49.1755 44.8519 48.2192H46.6386C46.7058 48.7645 46.8987 49.1545 47.2175 49.3894C47.5362 49.6159 48.0186 49.7291 48.6645 49.7291C48.8993 49.7291 49.1216 49.7082 49.3314 49.6662C49.5411 49.6243 49.7256 49.5572 49.885 49.4649C50.0444 49.3726 50.1702 49.2552 50.2625 49.1126C50.3631 48.9616 50.4135 48.7812 50.4135 48.5715C50.4135 48.3534 50.3589 48.1731 50.2499 48.0305C50.1492 47.8879 50.0024 47.7704 49.8095 47.6782C49.6166 47.5775 49.3817 47.4936 49.1049 47.4265C48.8364 47.351 48.5303 47.2755 48.1863 47.2C47.7837 47.1077 47.3936 47.0071 47.0161 46.898C46.647 46.7806 46.3199 46.6254 46.0347 46.4325C45.7579 46.2395 45.5314 45.9921 45.3552 45.6901C45.1874 45.3881 45.1036 45.0022 45.1036 44.5325C45.1036 44.0879 45.1874 43.6978 45.3552 43.3623C45.5314 43.0267 45.7704 42.7457 46.0724 42.5192C46.3828 42.2928 46.7477 42.125 47.1671 42.0159C47.5865 41.8985 48.0479 41.8398 48.5512 41.8398C49.5662 41.8398 50.3799 42.0788 50.9923 42.557C51.613 43.0351 51.9569 43.7314 52.0241 44.6457H50.2751C50.2247 44.1927 50.0402 43.853 49.7214 43.6265C49.4027 43.4 49.0084 43.2868 48.5386 43.2868C48.0437 43.2868 47.6495 43.3833 47.3559 43.5762C47.0623 43.7691 46.9155 44.025 46.9155 44.3437C46.9155 44.5283 46.9532 44.6835 47.0287 44.8093C47.1126 44.9267 47.2342 45.0316 47.3936 45.1239C47.5614 45.2161 47.7669 45.2958 48.0102 45.3629C48.2534 45.43 48.5428 45.5014 48.8784 45.5768C49.3397 45.6775 49.7717 45.7908 50.1744 45.9166C50.5854 46.034 50.9419 46.1934 51.2439 46.3947C51.5543 46.596 51.7976 46.8519 51.9737 47.1623C52.1499 47.4726 52.238 47.8711 52.238 48.3576C52.238 48.8106 52.1499 49.2174 51.9737 49.5782C51.7976 49.9305 51.5543 50.2283 51.2439 50.4715C50.9336 50.7064 50.5645 50.8868 50.1366 51.0126C49.7088 51.1384 49.2433 51.2013 48.74 51.2013ZM52.7328 42.0034H59.9679V43.5384H57.2626V51H55.4381V43.5384H52.7328V42.0034Z" fill="#252422" />
          </svg>
          <svg width="93" height="92" viewBox="0 0 93 92" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect x="0.5" width="92" height="92" rx="8" fill="#C6ABFF" />
            <rect width="60.0865" height="40.0577" rx="5.34102" transform="matrix(-1 0 0 1 76.543 26)" fill="#252422" />
            <circle cx="4.00577" cy="4.00577" r="4.00577" transform="matrix(-1 0 0 1 64.5254 37.3486)" fill="#A3DE59" />
            <circle cx="4.00577" cy="4.00577" r="4.00577" transform="matrix(-1 0 0 1 36.4844 37.3486)" fill="#C6ABFF" />
          </svg>
        </div>
        <h1 className="text-center px-2 text-[32px] mt-4 md:text-[48px] font-theme-font-medium ">
          No Submission Found
        </h1>
        <p className="text-[#252422] mt-2 px-4 text-lg text-center">
          It looks like we couldn’t find any graded items matching your search.{" "}
        </p>
      </div>
    );
  }
  return (
    <>
      <SubmissionView images={[images?.IMAGE]} productData={details} />
      <FooterComponent />
    </>
  );
};

export default ProductDetails;
